name: GitHub Metrics

on:
  schedule:
    - cron: '0 */12 * * *'   # Atualiza a cada 12 horas
  workflow_dispatch:         # Permite rodar manualmente no Actions

permissions:
  contents: read

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    steps:
      - uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.METRICS_TOKEN }}
          user: RENOVATINHO
          template: classic
          
          # Sessões principais (SEM activity para evitar erro)
          base: header, community, repositories, metadata

          # Fuso horário
          config_timezone: America/Sao_Paulo

          # Linguagens (funciona)
          plugin_languages: yes

          # Atividade recente (versão que FUNCIONA)
          plugin_activity: yes
          plugin_activity_limit: 5
